@import "../../themes/ionic.globals";
// Progress bar
// --------------------------------------------------

/// @prop - The color of the element that is being animated
$progress-color:               rgb(16,108,2001) !default;

/// @prop - The background color of the progress bar
$progress-buffer-color:        rgb(170,209,249a) !default;

/// @prop - The animation duration of the progress bar
$progress-animation-duration:  2s !default;

/// @prop - The speed at which the progress values transition, this is useful for determinate and buffer modes
$progress-values-transition:   0.3s !default;

/// @prop - The speed at which the buffer circles will be animating
$progress-buffer-circle-speed: 0.3s !default;

/// @prop - SVG to use for the buffering circles whenever the progress bar is buffering
$progress-buffer-circles-svg:  "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+Cjxzdmcgd2lkdGg9IjEyIiBoZWlnaHQ9IjQiIHZpZXdQb3J0PSIwIDAgMTIgNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxlbGxpcHNlIGN4PSIyIiBjeT0iMiIgcng9IjIiIHJ5PSIyIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImN4IiBmcm9tPSIyIiB0bz0iLTEwIiBkdXI9IjAuNnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAvPgogIDwvZWxsaXBzZT4KICA8ZWxsaXBzZSBjeD0iMTQiIGN5PSIyIiByeD0iMiIgcnk9IjIiIGNsYXNzPSJsb2FkZXIiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iY3giIGZyb209IjE0IiB0bz0iMiIgZHVyPSIwLjZzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4KICA8L2VsbGlwc2U+Cjwvc3ZnPgo=";

ion-progress {
  height: 5px;
  width: 100%;
  position: relative;
  overflow: hidden;
  display: block;
  @keyframes indeterminate {
    0% {
      width: 0%;

      left: 0%;
    }
    50% {
      left: 25%;

      width: 75%;
    }
    75% {
      left: 110%;

      width: 0%;
    }
  }
  @keyframes buffering {
    to {
      transform: translateX(-10px);
    }
  }

  .animatable {
    width: 0%;
    height: 100%;
    position: absolute;
    background-color: $progress-color;
    display: none;
  }
  .progress {
    display: none;
    height: 100%;
    width: 0%;

    background-color: $progress-color;
    transition: width $progress-values-transition cubic-bezier(0.4,0.0,0.2,1);
  }
  .buffer-circles {
    height: 4px;
    width: 100%;

    display: none;
    mask: url(#{$progress-buffer-circles-svg});

    background-image: linear-gradient(to right,rgba(255,255,255,.7),rgba(255,255,255,.7)),linear-gradient(to right,$progress-color ,$progress-color);

    position: absolute;

    z-index: -1;

    top: 0;
    left: 0;
  }
  .buffer {
    width: 100%;
    height: 100%;
    position: absolute;
    background-color: $progress-buffer-color;
    z-index: -1;
    top: 0;
  }
  &.indeterminate .animatable, &.query .animatable {
    display: block;

    animation: indeterminate $progress-animation-duration infinite;
  }
  &.indeterminate {
    @include rtl() {
        transform: rotate(180deg);
    }
  }
  &.query{
    transform:rotate(180deg);
    @include rtl() {
        transform: rotate(0deg);
    }
  }
  &.determinate, &.buffer {
      .progress {
          display: block;
      }
  }
  &.buffer .buffer-circles {
    display: block;

    animation: buffering $progress-buffer-circle-speed infinite;
  }
}
